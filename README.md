# bingo - Yandex DevOps training 2023 diploma project

Как я развернул руками итоговый проект. 

# Краткое описание проекта

Имеется веб приложение bingo, о котором известно: 
1. Где взять его испоняемый файл
2. Относительные адреса ручек для api
3. Приложение должно быть отказоучтойчивым, держать заданную нагрузку в течение заданного времени и быть развёрнутым до 01.12.23
4. Есть веб-приложение, которое проверяет корректность выполнения проекта

# 1. MVP

Для MVP проекта я выделил следующие его свойства: 
1. Он должен запускаться в облаке
2. Он должен работать на двух нодах и быть способным перезапускаться
3. Должен быть автоматизированный способ проверки, что всё работает и держит хоть какую-то нагрузку.

Порядок подготовки стенда видится таким: 
1. Написать dockerfile и docker-compose.yaml для работы приложения
2. Создать проект для terraform. Внутри проекта
    1. Модуль для container registry
    2. Модуль для остальной инфраструктуры (ноды, сеть и БД). В описании ВМ предусмотреть начальный скрипт для инициализации БД.
3. Подготовить Apache ... для проверок.

Порядок развёртывания: 
1. Сборка docker образа
2. Развёртывание container registry
3. Положить образ в CR 
4. Развернуть сеть, БД, ноды (именно в таком порядке)  

## 1.1. Он должен запускаться 

Docker и docker compose для запуска выбраны потому что:
* наличие инструментов для перезапуска и проверок работоспособности приложения. 
* наличие интеграции с docker-compose у облачных виртуалок (cloud init).
* такое решение уже было описано в домашних заданиях =)

В `dockerfile` применил multistage чтобы сэкономить размер образа, кроме того: добавил non-root пользователя и запуск приложения происходит не от суперпользователя. 


## 1.2. Проект для terraform
